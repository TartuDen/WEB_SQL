<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Thread - <%= thread.title %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <%- include('parts/header.ejs') %>
  <div class="container my-5">
    <h1 class="mb-4">Edit Thread</h1>
    <form action="/edit_thread/<%= thread.id %>" method="post">
      <div class="mb-3">
        <label for="threadTitle" class="form-label">Title</label>
        <input
          type="text"
          class="form-control"
          id="threadTitle"
          name="title"
          value="<%= thread.title %>"
          required
        >
      </div>
      <div class="mb-3">
        <label for="threadGenres" class="form-label">Genres</label>
        <div id="threadGenres" class="d-flex flex-wrap">
          <% genres.forEach(genre => { %>
            <div class="form-check me-2">
              <input
                class="form-check-input"
                type="checkbox"
                name="genre"
                value="<%= genre %>"
                id="genre_<%= genre %>"
                <%= thread.genres.includes(genre) ? 'checked' : '' %>
              >
              <label class="form-check-label" for="genre_<%= genre %>">
                <%= genre %>
              </label>
            </div>
          <% }) %>
        </div>
      </div>
      <div class="mb-3">
        <label for="threadContent" class="form-label">Content</label>
        <textarea
          class="form-control"
          id="threadContent"
          name="content"
          rows="5"
          required
        ><%= thread.content %></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Update Thread</button>
    </form>
    <a href="/" class="btn btn-secondary mt-3">Back to Threads</a>
  </div>
  <%- include('parts/footer.ejs') %>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
